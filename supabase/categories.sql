-- ุฅูุดุงุก ุฌุฏูู ุงูุชุตูููุงุช
CREATE TABLE categories (
    id BIGSERIAL PRIMARY KEY,
    name TEXT NOT NULL,
    description TEXT,
    icon TEXT
);

-- ุชูููู RLS
ALTER TABLE categories ENABLE ROW LEVEL SECURITY;

-- ุฅุถุงูุฉ ุณูุงุณุฉ ุงููุฑุงุกุฉ ุงูุนุงูุฉ
CREATE POLICY "Allow public read access for categories" ON categories
    FOR SELECT USING (true);

-- ุฅุถุงูุฉ ุงูุชุตูููุงุช ุงูุฑุฆูุณูุฉ
INSERT INTO categories (name, description, icon) VALUES
('ุฃุฐูุงุฑ ุงูุตุจุงุญ', 'ุงูุฃุฐูุงุฑ ุงููุณุชุญุจุฉ ูู ุงูุตุจุงุญ', '๐'),
('ุฃุฐูุงุฑ ุงููุณุงุก', 'ุงูุฃุฐูุงุฑ ุงููุณุชุญุจุฉ ูู ุงููุณุงุก', '๐'),
('ุฃุฐูุงุฑ ุจุนุฏ ุงูุตูุงุฉ', 'ุงูุฃุฐูุงุฑ ุงููุณุชุญุจุฉ ุจุนุฏ ุงูุตููุงุช ุงูููุฑูุถุฉ', '๐'),
('ุฃุฐูุงุฑ ุงูููู', 'ุงูุฃุฐูุงุฑ ุงููุณุชุญุจุฉ ูุจู ุงูููู', '๐'),
('ุฃุฐูุงุฑ ุงูุงุณุชููุงุธ', 'ุงูุฃุฐูุงุฑ ุงููุณุชุญุจุฉ ุนูุฏ ุงูุงุณุชููุงุธ', 'โฐ'),
('ุงูุฃุฏุนูุฉ ุงููุฃุซูุฑุฉ', 'ุฃุฏุนูุฉ ูู ุงููุฑุขู ูุงูุณูุฉ', '๐คฒ'),
('ุงูุชุณุจูุญ ูุงูุชูููู', 'ุฃุฐูุงุฑ ุงูุชุณุจูุญ ูุงูุชุญููุฏ ูุงูุชูููู', '๐ฟ'),
('ุงูุงุณุชุบูุงุฑ', 'ุตูุบ ุงูุงุณุชุบูุงุฑ ุงููุฎุชููุฉ', '๐');

-- ุฅุถุงูุฉ ุนููุฏ ุงูุชุตููู ููุฃุฐูุงุฑ
ALTER TABLE azkar ADD COLUMN category_id BIGINT REFERENCES categories(id);
